@page "/"
@rendermode InteractiveServer
@inject IAccountManagement CustomAuthenticationStateProvider



<h3>Local Storage Example</h3>


<button @onclick="Register">Register</button>
<button @onclick="LoadFromLocalStorage">Get authKey</button>

<button @onclick="Login">Login</button>




@code {
    private async Task Register()
    {
        await CustomAuthenticationStateProvider.RegisterAsync("Korv@hotmail.com", "123korv", "korven");
    }

    private async Task LoadFromLocalStorage()
    {
        var authKey = await CustomAuthenticationStateProvider.CheckAuthenticatedAsync();
    }

    

    private async Task Login()
    {
        var user = new UserDTO
        {
            Id = "PhilipUSER",
            Password = "123korv",
            Email = "Korv@hotmail.com"
        };

        await CustomAuthenticationStateProvider.LoginAsync(user.Email, user.Password);
    }

}

